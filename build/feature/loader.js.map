{"version":3,"sources":["../../src/feature/loader.js"],"names":["dateScrapper","puppeteer","launch","browser","newPage","page","setViewport","width","height","$eval","e","innerText","date","close","isUpdated","menu","newDate","console","log"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AAEA,IAAMA,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACKC,sBAAUC,MAAV,EADL;;AAAA;AACXC,YAAAA,OADW;AAAA;AAAA,mBAEEA,OAAO,CAACC,OAAR,EAFF;;AAAA;AAEXC,YAAAA,IAFW;AAAA;AAAA,mBAGXA,IAAI,CAACC,WAAL,CAAiB;AAAEC,cAAAA,KAAK,EAAE,IAAT;AAAeC,cAAAA,MAAM,EAAE;AAAvB,aAAjB,CAHW;;AAAA;AAAA;AAAA,mBAIXH,IAAI,QAAJ,CAAU,yCAAV,CAJW;;AAAA;AAAA;AAAA,mBAMEA,IAAI,CAACI,KAAL,CAAW,OAAX,EAAoB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACC,SAAN;AAAA,aAArB,CANF;;AAAA;AAMXC,YAAAA,IANW;AAAA;AAAA,mBAOXT,OAAO,CAACU,KAAR,EAPW;;AAAA;AAAA,6CAQVD,IARU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAZZ,YAAY;AAAA;AAAA;AAAA,GAAlB;;AAWO,IAAMc,SAAS,GAAG,SAAZA,SAAY,GAAM;AAC3B,MAAIC,SAAKH,IAAL,IAAaZ,YAAY,EAA7B,EAAiC;AAC7B,QAAMgB,OAAO,GAAGhB,YAAY,EAA5B;AACAe,aAAKH,IAAL,GAAYI,OAAZ;AACA;AACH,GAJD,MAIO;AACHC,IAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ;AACH;AACJ,CARM","sourcesContent":["import puppeteer from \"puppeteer\";\nimport { scrapper } from \"./scrapper\";\nimport { menu } from \"../db\";\n\nconst dateScrapper = async () => {\n    const browser = await puppeteer.launch();\n    const page = await browser.newPage();\n    await page.setViewport({ width: 1280, height: 720 });\n    await page.goto(\"https://portal.dankook.ac.kr/web/portal\");\n\n    const date = await page.$eval(\".date\", e => e.innerText);\n    await browser.close();\n    return date;\n};\n\nexport const isUpdated = () => {\n    if (menu.date != dateScrapper()) {\n        const newDate = dateScrapper();\n        menu.date = newDate;\n        scrapper();\n    } else {\n        console.log(\"Date info is already up-to-date\");\n    }\n};\n"],"file":"loader.js"}